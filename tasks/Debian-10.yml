---
- name: install common basic package list
  apt:
   install_recommends: 'no'
   name:
    - git
    - curl
    - wget
    - rsync
    - borgbackup
    - less
    - sudo
    - vim
    - net-tools
    - htop
    - ncdu
    - tmux
    - smartmontools
    - bash-completion
    - cryptsetup
    - apt-transport-https
    - apt-file
    - tcpdump
    - sysstat
    - mtr
    - traceroute
    - dnsutils
    - whois
    - zip
    - unzip
    - hdparm
    - udisks2
    # required for unlocking luks encrypted drives for udisks2
    # https://github.com/pop-os/pop/issues/163
    - libblockdev-crypto2
    - pciutils
    - usbutils
    - nfs-common
    - dmidecode
    - lshw
    - strace
    - netfilter-persistent
    # tasty python
    - python-pip
    - python3-pip
    - virtualenv
    - python-virtualenv
    - python3-virtualenv
    - python-setuptools
    - python3-setuptools
    # useful for ansible
    - lsb-release
    # nmap
    - nmap
    - iperf
    - netcat-openbsd
  notify: restart unattended-upgrades

- name: Remove useless packages I regret installing
  apt:
   name:
    - systemd-container
   install_recommends: 'no'
   state: absent
  notify: restart unattended-upgrades
